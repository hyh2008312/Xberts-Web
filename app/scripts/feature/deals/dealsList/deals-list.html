<div layout="row" layout-align="space-between start" layout-wrap class="xb-deals-list">
  <div hide-xs hide-sm ng-repeat="value in [0,1,2,3]">
    <div ng-repeat="item in deals track by $index" ng-if="$index % 4 == value">
      <div class="xb-deals-list__img-bg">
        <a layout="column" layout-align="start center" ui-sref="application.dealsDetail({dealsId:item.id})" target="_blank">
          <img src="{{item.getImageUrl()}}" title="{{item.title}}"/>
          <div class="xb-deals-list__mask animation-opacity-show" layout="column" layout-align="center center" hide-xs>
            <div class="md-subhead">Quick Look</div>
          </div>
          <div class="xb-deals-list__top-left" ng-if="item.discount > 0">
            <span>
              {{item.discount * 100 | number:0}}% off
            </span>
          </div>
          <div class="xb-deals-list__top-right">
            <span end-time-left end-time="item.promotionDeadline">
              <span ng-show="timeValue>0">{{ timeUnit }}</span>
            </span>
          </div>
        </a>
      </div>
      <div class="xb-deals-list__content" layout="column" layout-align="stretch start">
        <a class="xb-deals-list__title md-dark-secondary" ui-sref="application.dealsDetail({dealsId:item.id})" target="_blank">
          {{item.title}}
        </a>
        <div class="xb-deals-list__price md-margin-top-1 md-margin-bottom-2" layout="row" layout-align="start center">
          <span class="md-dark-secondary">
            {{item.originalPrice.amount | currency}}
          </span>
          <span class="md-headline xb-bold">
            {{item.salePrice.amount | currency}}
          </span>
        </div>
      </div>
      <div layout="row" class="xb-deals-list__head" ng-if="item.owner != null">
        <avatar-Img class="xb-pointer" flex="none" src="item.getDealsAvatar()" name="item.getDealsName()"  class="md-user-avatar"
                    ui-sref="application.expert({ expertId:item.getPostId() })"></avatar-Img>
        <div layout="column" layout-align="space-between start">
          <div layout="row" layout-align="start center">
            <a class="md-dark-primary" ui-sref="application.expert({expertId:item.getPostId()})">{{item.getDealsName()}}</a>
            <credit-badge class="credit-badge" points="item.owner.badgePoint"></credit-badge>
          </div>
          <div class="md-dark-secondary">Post <span am-time-ago='item.created'></span></div>
        </div>
      </div>
      <div layout="row" class="xb-deals-list__head" ng-if="item.owner == null">
        <avatar-Img flex="none" src="headImage" name="item.getDealsName()"  class="md-user-avatar">
        </avatar-Img>
        <div layout="column" layout-align="space-between start">
          <div layout="row" layout-align="start center">
            <span class="md-dark-primary">{{item.getDealsName()}}</span>
          </div>
          <div class="md-dark-secondary">Post <span am-time-ago='item.created'></span></div>
        </div>
      </div>
      <form name="dealsProduct" ng-submit="submitForm(item)" clear-form-error ng-if="user.isStaff()" >
        <md-input-container class="md-block" md-no-float>
          <label class="md-dark-primary">purchase link</label>
          <input ng-model="item.buyUrl" type="url" name="link" placeholder="http://" />
        </md-input-container>
        <md-checkbox class="md-primary" ng-model="item.isApproved" flex>
          is approved
        </md-checkbox>
        <div layout="row" layout-align="space-between center">
          <md-button class="md-primary" type="submit">Save</md-button>
        </div>
      </form>
    </div>
  </div>
  <div hide-xs hide-gt-sm ng-repeat="value in [0,1,2]">
    <div ng-repeat="item in deals track by $index" ng-if="$index % 3 == value">
      <div class="xb-deals-list__img-bg">
        <a layout="column" layout-align="start center" ui-sref="application.dealsDetail({dealsId:item.id})" target="_blank">
          <img src="{{item.getImageUrl()}}" title="{{item.title}}"/>
          <div class="xb-deals-list__mask animation-opacity-show" layout="column" layout-align="center center" hide-xs>
            <div class="md-subhead">Quick Look</div>
          </div>
          <div class="xb-deals-list__top-left" ng-if="item.discount > 0">
            <span>
              {{item.discount * 100 | number:0}}% off
            </span>
          </div>
          <div class="xb-deals-list__top-right">
            <span end-time-left end-time="item.promotionDeadline">
              <span ng-show="timeValue>0">{{ timeUnit }}</span>
            </span>
          </div>
        </a>
      </div>
      <div class="xb-deals-list__content" layout="column" layout-align="stretch start">
        <a class="xb-deals-list__title md-dark-secondary" ui-sref="application.dealsDetail({dealsId:item.id})" target="_blank">
          {{item.title}}
        </a>
        <div class="xb-deals-list__price md-margin-top-1 md-margin-bottom-2" layout="row" layout-align="start center">
          <span class="md-dark-secondary">
            {{item.originalPrice.amount | currency}}
          </span>
          <span class="md-headline xb-bold">
            {{item.salePrice.amount | currency}}
          </span>
        </div>
      </div>
      <div layout="row" class="xb-deals-list__head" ng-if="item.owner != null">
        <avatar-Img class="xb-pointer" flex="none" src="item.getDealsAvatar()" name="item.getDealsName()"  class="md-user-avatar"
                    ui-sref="application.expert({ expertId:item.getPostId() })"></avatar-Img>
        <div layout="column" layout-align="space-between start">
          <div layout="row" layout-align="start center">
            <a class="md-dark-primary" ui-sref="application.expert({expertId:item.getPostId()})">{{item.getDealsName()}}</a>
            <credit-badge class="credit-badge" points="item.owner.badgePoint"></credit-badge></div>
          <div class="md-dark-secondary">Post <span am-time-ago='item.created'></span></div>
        </div>
      </div>
      <div layout="row" class="xb-deals-list__head" ng-if="item.owner == null">
        <avatar-Img flex="none" src="headImage" name="item.getDealsName()"  class="md-user-avatar">
        </avatar-Img>
        <div layout="column" layout-align="space-between start">
          <div layout="row" layout-align="start center">
            <span class="md-dark-primary">{{item.getDealsName()}}</span>
          </div>
          <div class="md-dark-secondary">Post <span am-time-ago='item.created'></span></div>
        </div>
      </div>
      <form name="dealsProduct" ng-submit="submitForm(item)" clear-form-error ng-if="user.isStaff()" >
        <md-input-container class="md-block" md-no-float>
          <label class="md-dark-primary">purchase link</label>
          <input ng-model="item.buyUrl" type="url" name="link" placeholder="http://" />
        </md-input-container>
        <md-checkbox class="md-primary" ng-model="item.isApproved" flex>
          is approved
        </md-checkbox>
        <div layout="row" layout-align="space-between center">
          <md-button class="md-primary" type="submit">Save</md-button>
        </div>
      </form>
    </div>
  </div>
  <div hide-gt-xs ng-repeat="value in [0,1]">
    <div ng-repeat="item in deals track by $index" ng-if="$index % 2 == value">
      <div class="xb-deals-list__img-bg">
        <a layout="column" layout-align="start center" ui-sref="application.dealsDetail({dealsId:item.id})">
          <img src="{{item.getImageUrl()}}" title="{{item.title}}"/>
          <div class="xb-deals-list__mask animation-opacity-show" layout="column" layout-align="center center" hide-xs>
            <div class="md-subhead">Quick Look</div>
          </div>
          <div class="xb-deals-list__top-left" ng-if="item.discount > 0">
            <span>
              {{item.discount * 100 | number:0}}% off
            </span>
          </div>
          <div class="xb-deals-list__top-right">
            <span end-time-left end-time="item.promotionDeadline">
              <span ng-show="timeValue>0">{{ timeUnit }}</span>
            </span>
          </div>
        </a>
      </div>
      <div class="xb-deals-list__content" layout="column" layout-align="stretch start">
        <a class="xb-deals-list__title md-dark-secondary" ui-sref="application.dealsDetail({dealsId:item.id})">
          {{item.title}}
        </a>
        <div class="xb-deals-list__price md-margin-top-1 md-margin-bottom-2" layout="row" layout-align="start center">
          <span class="md-dark-secondary">
            {{item.originalPrice.amount | currency}}
          </span>
          <span class="md-headline xb-bold">
            {{item.salePrice.amount | currency}}
          </span>
        </div>
      </div>
      <div layout="row" class="xb-deals-list__head" ng-if="item.owner != null">
        <avatar-Img class="xb-pointer" flex="none" src="item.getDealsAvatar()" name="item.getDealsName()"  class="md-user-avatar"
                    ui-sref="application.expert({ expertId:item.getPostId() })"></avatar-Img>
        <div layout="column" layout-align="space-between start">
          <div layout="row" layout-align="start center">
            <a class="md-dark-primary" ui-sref="application.expert({expertId:item.getPostId()})">{{item.getDealsName()}}</a>
            <credit-badge class="credit-badge" points="item.owner.badgePoint"></credit-badge></div>
          <div class="md-dark-secondary">Post <span am-time-ago='item.created'></span></div>
        </div>
      </div>
      <div layout="row" class="xb-deals-list__head" ng-if="item.owner == null">
        <avatar-Img flex="none" src="headImage" name="item.getDealsName()"  class="md-user-avatar">
        </avatar-Img>
        <div layout="column" layout-align="space-between start">
          <div layout="row" layout-align="start center">
            <span class="md-dark-primary">{{item.getDealsName()}}</span>
          </div>
          <div class="md-dark-secondary">Post <span am-time-ago='item.created'></span></div>
        </div>
      </div>
      <form name="dealsProduct" ng-submit="submitForm(item)" clear-form-error ng-if="user.isStaff()" >
        <md-input-container class="md-block" md-no-float>
          <label class="md-dark-primary">purchase link</label>
          <input ng-model="item.buyUrl" type="url" name="link" placeholder="http://" />
        </md-input-container>
        <md-checkbox class="md-primary" ng-model="item.isApproved" flex>
          is approved
        </md-checkbox>
        <div layout="row" layout-align="space-between center">
          <md-button class="md-primary" type="submit">Save</md-button>
        </div>
      </form>
    </div>
  </div>
</div>
