<interact interact="report.interact">
  <div class="xb2-page-head">
    <img ng-src="{{report.image}}" class="xb2-img-responsible" hide-gt-xs>
    <div class="container">
      <div class="xb2-page-head__title-wrap">
        <h1 class="xb2-page-head__title">{{ report.title }}</h1>
        <p class="xb2-page-head__subtitle">
          <a ui-sref="application.testingcampaign({ reviewId:report.getReviewId() })">{{ report.getProductTitle() }}</a>
        </p>
      </div>

      <div layout-gt-sm="row" layout="column">
        <div flex-gt-sm="60">
          <img ng-src="{{report.image}}" class="xb2-img-responsible" hide-xs>
        </div>
        <div flex-gt-sm="40" class="xb2-page-head__info" layout="column" layout-align="start">
          <div class="xb2-page-head__author xb-trial-detail__avatar-bg" flex-order="2" flex-order-gt-xs="1">
            <md-list-item class="md-padding-clear">
              <avatar-img class="md-avatar" src="report.applicant.reviewer.avatar" name="report.applicant.reviewer.fullname"></avatar-img>
              <p><a class="xb2-nostyle-link" ui-sref="application.expert({ expertId:report.getReviewerId() })">{{
                report.getReviewerName()}}</a></p>
              <md-fab-speed-dial ng-hide="hidden" md-direction="left" md-open="isOpen" class="md-scale" ng-class="{ 'md-hover-full': hover }"
                                 ng-mouseenter="isOpen=true" ng-mouseleave="isOpen=false">
                <md-fab-trigger>
                  <md-button class="md-icon-button">
                    <md-icon md-font-set="material-icons md-dark-secondary"> share </md-icon>
                  </md-button>
                </md-fab-trigger>
                <md-fab-actions>
                  <md-button aria-label="{{item.name}}" class="md-icon-button" ng-repeat="item in shareList" socialshare
                             socialshare-provider="{{item.name}}" socialshare-description="{{pageSettings._description}}" socialshare-text="{{pageSettings._title}}"
                             socialshare-media="{{pageSettings._shareImage}}" socialshare-source="{{pageSettings._shareImage}}"
                             socialshare-url="{{inviteObj.shareUrl(pageSettings.getUrl(), item.name)}}" >
                    <i class="fa fa-{{item.name}} md-dark-secondary" aria-hidden="true"></i>
                  </md-button>
                </md-fab-actions>
              </md-fab-speed-dial>
              <vote></vote>
            </md-list-item>
          </div>

          <div class="xb2-page-head__rating xb2-rating-star" flex-order="1" flex-order-gt-xs="2" layout
               layout-align="start center">
            <rating-star value="{{report.getScore()}}"></rating-star>
            <span class="xb2-rating-star__value">{{report.getScore()}}</span>
          </div>

          <div hide-xs class="xb2-page-head__rating-detail" flex-order="3">
            <div layout="row" layout-align="center center" class="xb2-rating-container">
              <span class="md-margin-right-2">Value for Money:</span>
              <rating-line flex value="{{ report.cost_performance / 5 }}"></rating-line>
              <span class="md-margin-left-2">{{report.cost_performance}}</span>
            </div>
            <div layout="row" layout-align="center center" class="xb2-rating-container">
              <span class="md-margin-right-2">Usability:</span>
              <rating-line flex value="{{ report.usability / 5 }}"></rating-line>
              <span class="md-margin-left-2">{{report.usability}}</span>
            </div>
            <div layout="row" layout-align="center center" class="xb2-rating-container">
              <span class="md-margin-right-2">Design:</span>
              <rating-line flex value="{{ report.presentation / 5 }}"></rating-line>
              <span class="md-margin-left-2">{{report.presentation}}</span>
            </div>
          </div>
          <div class="xb2-page-head__button" flex-order="4">
            <div layout="row" layout-gt-xs="column" layout-align="start center" layout-align-gt-xs="start start">
              <p flex class="xb2-price">
                <span class="xb2-price__final">${{ report.getProductFinalPrice() }}</span>
                <span class="xb2-price__retail" ng-if="report.isHasFinalPrice()">${{ report.getProductRetailPrice() }}</span>
              </p>
              <md-button class="md-raised md-accent md-margin-clear" ng-click="report.buyNow('report-item');"
                         target="_blank">
                Buy Now
              </md-button>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
  <div class="container xb2-page-content">
    <md-tabs md-dynamic-height md-border-bottom md-selected="selectedIndex">
      <md-tab label="Review" md-on-select="loadMyBio()">
        <div layout>
          <div flex flex-gt-sm="60">
            <div class="md-padding">
              <div layout="column" layout-gt-xs="row" class="xb2-page-content__section" ng-if="report.pros.length>0">
                <div flex-gt-xs="45">
                  <h2 class="xb2-h2">Pros</h2>
                  <ul class="xb2-ul">
                    <li ng-repeat="pro in report.pros track by $index">{{ pro }}</li>
                  </ul>
                </div>
                <div flex-gt-xs="10"></div>

                <div flex-gt-xs="45">
                  <h2 class="xb2-h2">Cons</h2>
                  <ul class="xb2-ul">
                    <li ng-repeat="con in report.cons track by $index">{{ con }}</li>
                  </ul>
                </div>

              </div>
              <div ng-bind-html="report.details | trust" class="xb2-custom-text xb2-page-content__section"></div>
            </div>
          </div>
        </div>
      </md-tab>

      <md-tab label="Comments">
        <div layout>
          <div flex flex-gt-sm="60">
            <feedback-list interact-id="{{report.interact.id}}"></feedback-list>
          </div>
        </div>
      </md-tab>
    </md-tabs>
  </div>
</interact>


