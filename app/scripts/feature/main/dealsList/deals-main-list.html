<div class="xb-main-deals" flex="noshrink" layout="row" layout-align="start start">
  <div ng-repeat="item in deals track by $index" flex="none">
    <div class="xb-deals-list__img-bg xb-main-deals__img-bg">
      <a layout="column" layout-align="start center"  ui-sref="application.dealsDetail({dealsId:item.id})" target="_blank">
        <img src="{{item.getImageUrl()}}" title="{{item.title}}"/>
        <div ng-if="item.getVideo() != null" class="xb-main-discover__image-button-bg" layout="row" layout-align="center center">
          <div class="xb-main-discover__image-button" layout="row" layout-align="center center">
            <md-icon >play_arrow</md-icon>
          </div>
        </div>
        <div class="xb-deals-list__mask animation-opacity-show" layout="column" layout-align="center center" hide-xs>
          <div class="md-subhead">Quick Look</div>
        </div>
        <div class="xb-deals-list__top-right">
          <span end-time-left end-time="item.promotionEnd" extraInfo="Expired">
            <span ng-show="timeValue>0">{{ timeUnit }}</span>
          </span>
        </div>
      </a>
    </div>
    <div class="xb-deals-list__content" layout="column" layout-align="stretch start">
      <a class="xb-deals-list__title xb-deals-list__fixed-height md-dark-secondary" ui-sref="application.dealsDetail({dealsId:item.id})" target="_blank">
        {{item.title}}
      </a>
      <div class="xb-deals-list__price md-margin-top-1 md-margin-bottom-2" layout="row" layout-align="start center" layout-wrap>
        <span class="md-dark-secondary" ng-if="item.originalPrice.amount>0">
          {{item.originalPrice.amount | worldCurrency:item.originalPrice.currency}}
        </span>
        <span class="md-headline xb-bold">
          {{item.salePrice.amount | worldCurrency:item.salePrice.currency}}
        </span>
        <span class="xb-deals-list__discount" ng-if="item.discount > 0">
          {{item.discount * 100 | number:0}}% OFF
        </span>
      </div>
    </div>
    <div layout="row" class="xb-deals-list__head" ng-if="item.owner != null" hide>
      <avatar-Img class="xb-pointer" flex="none" src="item.owner.userprofile.avatar" name="item.getDealsName()"  class="md-user-avatar"
                  ui-sref="application.expert({ expertId:item.getPostId() })"></avatar-Img>
      <div layout="column" layout-align="space-between start">
        <div layout="row" layout-align="start center">
          <a class="md-dark-primary" ui-sref="application.expert({expertId:item.getPostId()})">{{item.getDealsName()}}</a>
          <credit-badge class="credit-badge" points="item.owner.badgePoint"></credit-badge>
        </div>
        <div class="md-dark-secondary">Posted <span am-time-ago='item.created'></span></div>
      </div>
    </div>
    <div layout="row" class="xb-deals-list__head" ng-if="item.owner == null" hide>
      <avatar-Img flex="none" src="headImage" name="item.getDealsName()"  class="md-user-avatar">
      </avatar-Img>
      <div layout="column" layout-align="space-between start">
        <div layout="row" layout-align="start center">
          <span class="md-dark-primary">{{item.getDealsName()}}</span>
        </div>
        <div class="md-dark-secondary">Posted <span am-time-ago='item.created'></span></div>
      </div>
    </div>
  </div>
</div>
<i class="iconfontXberts icon-jiantou xb-main-scroll__left-arrow animation-opacity-show"
   scroll-control scroll-element="'.xb-main-deals'" page="page" page-size="4" distance="299"></i>
<i class="iconfontXberts icon-jiantou- xb-main-scroll__right-arrow animation-opacity-show"
   scroll-control scroll-element="'.xb-main-deals'" direction="1"
   page="page" page-size="4" distance="299" amount="deals.length"></i>
