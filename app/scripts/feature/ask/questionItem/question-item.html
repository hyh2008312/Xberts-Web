<div class="xb-ask-list__item background-whitem" ng-repeat="product in products track by $index" ng-if="!isAll">
  <div class="xb-ask-list__margin-top md-body-1 md-dark-secondary ">Asked • <span am-time-ago='product.created'></span></div>
  <a class="xb-ask-list__title md-headline md-dark-primary" ui-sref="application.answerQuestionDetail({questionId:product.id})">{{product.title}}</a>
  <div class="xb-ask-list__answer-content md-body-1" ng-if="!product.latestAnswer && product.description && !hideAnswer">
    {{product.description | reduceSentence:140}}{{product.description.length>140?'...':''}}
    <span class="xb-ask-list__color" ng-if="product.description.length>140" ui-sref="application.answerQuestionDetail({questionId:product.id})">More</span>
  </div>
  <div class="xb-ask-list__answer-content md-body-1" ng-if="product.description && hideAnswer">
    {{product.description | reduceSentence:140}}{{product.description.length>140?'...':''}}
    <span class="xb-ask-list__color" ng-if="product.description.length>140" ui-sref="application.answerQuestionDetail({questionId:product.id})">More</span>
  </div>
  <div ng-if="product.latestAnswer && !hideAnswer">
    <div class="xb-ask-list__head-bg" layout="row">
      <avatar-Img src="product.latestAnswer.owner.userprofile.avatar" name="product.latestAnswer.owner.firstName"
                  ui-sref="application.expert({ expertId:product.getLatestUserId()})"></avatar-Img>
      <div layout="column" layout-align="space-between start">
        <div class="md-subhead" layout="row" layout-align="start center"
             ui-sref="application.expert({ expertId:product.getLatestUserId()})">
          {{product.latestAnswer.owner.firstName}}
          <credit-badge class="credit-badge" points="product.getLatestBadgePoint()"></credit-badge>
          <div class="md-dark-secondary md-margin-left-1">
            {{product.getLatestUserPosition()}}
          </div>
        </div>
        <span class="md-body-1 md-dark-secondary">Answered <span am-time-ago='product.latestAnswer.created'></span></span>
      </div>
    </div>
    <div layout="row" layout-align="start start">
      <div hide-xs flex class="xb-ask-list__answer-content md-body-1 xb-pointer" ng-if="product.latestAnswer.text"
           ui-sref="application.answerQuestionDetail({questionId:product.id})">
        {{product.latestAnswer.text | reduceSentence:400}}{{product.latestAnswer.text.length>400? '...':''}}
        <span ng-if="product.latestAnswer.text.length>400" class="xb-ask-list__color xb-pointer">more</span>
      </div>
      <div hide-gt-xs flex class="xb-ask-list__answer-content md-body-1 xb-pointer" ng-if="product.latestAnswer.text"
           ui-sref="application.answerQuestionDetail({questionId:product.id})">
        {{product.latestAnswer.text | reduceSentence:100}}{{product.latestAnswer.text.length>100? '...':''}}
        <span ng-if="product.latestAnswer.text.length>100" class="xb-ask-list__color xb-pointer">more</span>
      </div>
      <div class="xb-ask-list__answer-image-bg xb-pointer" ui-sref="application.answerQuestionDetail({questionId:product.id})"
           flex="none" ng-if="product.latestAnswer.preImage">
        <img src="{{product.latestAnswer.preImage}}" />
      </div>
    </div>
  </div>
  <div class="xb-ask-list__actions" layout="row" layout-align="start center">
    <div ng-switch="product.answerAmount">
      <div ng-switch-when="0" >
        <md-button class="md-primary" ui-sref="application.answerQuestionDetail({questionId:product.id})">
          Be the first to answer
        </md-button>
      </div>
      <div ng-switch-when="1" layout="row" layout-align="start center">
        <md-button class="md-primary" ui-sref="application.answerQuestionDetail({questionId:product.id})">
          Answer
        </md-button>
        <span class="xb-ask-list__color">&nbsp;1</span>
      </div>
      <div ng-switch-default layout="row" layout-align="start center">
        <md-button class="md-primary" ui-sref="application.answerQuestionDetail({questionId:product.id})">
          Answers
        </md-button>
        <span class="xb-ask-list__color">&nbsp;{{product.answerAmount}}</span>
      </div>
    </div>
    <md-button ng-if="!product.currentUser.follow" class="xb-ask-list__margin-left md-dark-secondary"
               ng-click="follow(product)">Follow</md-button>
    <span class="md-dark-secondary" ng-if="!product.currentUser.follow" >&nbsp;{{product.followeeCount > 0? product.followeeCount:''}}</span>
    <md-button ng-if="product.currentUser.follow" class="xb-ask-list__margin-left md-dark-secondary"
               ng-click="follow(product)">Following</md-button>
    <span class="md-dark-secondary" ng-if="product.currentUser.follow" >&nbsp;{{product.followeeCount > 0? product.followeeCount:''}}</span>
  </div>
</div>
<div class="xb-ask-list__item background-whitem" ng-repeat="product in products track by $index" ng-if="isAll && $index <= 1">
  <div class="xb-ask-list__margin-top md-body-1 md-dark-secondary ">Asked • <span am-time-ago='product.created'></span></div>
  <a class="xb-ask-list__title md-headline md-dark-primary" ui-sref="application.answerQuestionDetail({questionId:product.id})">{{product.title}}</a>
  <div class="xb-ask-list__answer-content md-body-1" ng-if="!product.latestAnswer && product.description && !hideAnswer">
    {{product.description | reduceSentence:140}}{{product.description.length>140?'...':''}}
    <span class="xb-ask-list__color" ng-if="product.description.length>140" ui-sref="application.answerQuestionDetail({questionId:product.id})">More</span>
  </div>
  <div class="xb-ask-list__answer-content md-body-1" ng-if="product.description && hideAnswer">
    {{product.description | reduceSentence:140}}{{product.description.length>140?'...':''}}
    <span class="xb-ask-list__color" ng-if="product.description.length>140" ui-sref="application.answerQuestionDetail({questionId:product.id})">More</span>
  </div>
  <div ng-if="product.latestAnswer && !hideAnswer">
    <div class="xb-ask-list__head-bg" layout="row">
      <avatar-Img src="product.latestAnswer.owner.userprofile.avatar" name="product.latestAnswer.owner.firstName"
                  ui-sref="application.expert({ expertId:product.getLatestUserId()})"></avatar-Img>
      <div layout="column" layout-align="space-between start">
        <div class="md-subhead" layout="row" layout-align="start center"
             ui-sref="application.expert({ expertId:product.getLatestUserId()})">
          {{product.latestAnswer.owner.firstName}}
          <credit-badge class="credit-badge" points="product.getLatestBadgePoint()"></credit-badge>
          <div class="md-dark-secondary md-margin-left-1">
            {{product.getLatestUserPosition()}}
          </div>
        </div>
        <span class="md-body-1 md-dark-secondary">Answered <span am-time-ago='product.latestAnswer.created'></span></span>
      </div>
    </div>
    <div layout="row" layout-align="start start">
      <div hide-xs flex class="xb-ask-list__answer-content md-body-1 xb-pointer" ng-if="product.latestAnswer.text"
           ui-sref="application.answerQuestionDetail({questionId:product.id})">
        {{product.latestAnswer.text | reduceSentence:400}}{{product.latestAnswer.text.length>400? '...':''}}
        <span ng-if="product.latestAnswer.text.length>400" class="xb-ask-list__color xb-pointer">more</span>
      </div>
      <div hide-gt-xs flex class="xb-ask-list__answer-content md-body-1 xb-pointer" ng-if="product.latestAnswer.text"
           ui-sref="application.answerQuestionDetail({questionId:product.id})">
        {{product.latestAnswer.text | reduceSentence:100}}{{product.latestAnswer.text.length>100? '...':''}}
        <span ng-if="product.latestAnswer.text.length>100" class="xb-ask-list__color xb-pointer">more</span>
      </div>
      <div class="xb-ask-list__answer-image-bg xb-pointer" ui-sref="application.answerQuestionDetail({questionId:product.id})"
           flex="none" ng-if="product.latestAnswer.preImage">
        <img src="{{product.latestAnswer.preImage}}" />
      </div>
    </div>
  </div>
  <div class="xb-ask-list__actions" layout="row" layout-align="start center">
    <div ng-switch="product.answerAmount">
      <div ng-switch-when="0" >
        <md-button class="md-primary" ui-sref="application.answerQuestionDetail({questionId:product.id})">
          Be the first to answer
        </md-button>
      </div>
      <div ng-switch-when="1" layout="row" layout-align="start center">
        <md-button class="md-primary" ui-sref="application.answerQuestionDetail({questionId:product.id})">
          Answer
        </md-button>
        <span class="xb-ask-list__color">&nbsp;1</span>
      </div>
      <div ng-switch-default layout="row" layout-align="start center">
        <md-button class="md-primary" ui-sref="application.answerQuestionDetail({questionId:product.id})">
          Answers
        </md-button>
        <span class="xb-ask-list__color">&nbsp;{{product.answerAmount}}</span>
      </div>
    </div>
    <md-button ng-if="!product.currentUser.follow" class="xb-ask-list__margin-left md-dark-secondary"
               ng-click="follow(product)">Follow</md-button>
    <span class="md-dark-secondary" ng-if="!product.currentUser.follow" >&nbsp;{{product.followeeCount > 0? product.followeeCount:''}}</span>
    <md-button ng-if="product.currentUser.follow" class="xb-ask-list__margin-left md-dark-secondary"
               ng-click="follow(product)">Following</md-button>
    <span class="md-dark-secondary" ng-if="product.currentUser.follow" >&nbsp;{{product.followeeCount > 0? product.followeeCount:''}}</span>
  </div>
</div>
