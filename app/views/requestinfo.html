<form name="distributionForm" ng-submit="distributionFormSubmit()" ng-controller="RequestinfoCtrl">
    <div class="row">
        <div class="col-md-9">
            <div class="form-group">
                <label>Which markets are you available to distribute your product?</label><br/>
                <label class="checkbox-inline" ng-repeat="targetGeo in targetGeos">
                    <input type="checkbox" ng-model="targetGeo.selected"> {{ targetGeo.name }}
                </label>

                <p class="message-error"
                   ng-show="distributionForm.submitted && distributionForm.targetGeosRequired">
                    *required</p>
            </div>
            <div class="form-inline form-group">
                <label class="margin-right">Suggested retail price:</label>

                <div class="input-group">
                    <span class="input-group-addon">$</span>

                    <input type="text" class="form-control"
                           name="retail_price"
                           ng-model="distribution.retail_price"
                           ng-pattern="/^\d[0-9,\.]*$/"
                           ng-required="true"/>
                </div>
                <p class="message-error"
                   ng-show="distributionForm.submitted && distributionForm.retail_price.$error.required">
                    * required</p>

                <p class="message-error"
                   ng-show="distributionForm.retail_price.$error.pattern">
                    * invalid number</p>
            </div>

            <label>Sales partner discount <span class="font-light-gray" style="font-weight: normal">(Only visible to your accepted partners)</span>:</label>

            <div class="form-inline">
                <span>Offer</span>

                <div class="input-group">
                    <input type="text" class="form-control"
                           ng-model="discount.price_discount"
                           name="price_discount"
                           ng-pattern="/^\d[0-9,\.]*$/"
                           style="width: 100px">
                    <span class="input-group-addon">%</span>

                </div>
                <div class="form-group">
                    <span>off for order quantity of</span>
                    <input type="text" class="form-control"
                           name="order_quantity"
                           ng-model="discount.order_quantity"
                           ng-pattern="/^\d[0-9,\.]*$/"
                           style="width: 100px">
                    <span>pieces;</span>
                </div>
                <button class="btn btn-sm btn-primary" type="button" ng-click="addDiscount()"><i class="fa fa-plus"></i>
                </button>

            </div>
            <p class="message-error" ng-show="distributionForm.discountError || distributionForm.discountRequired">*
                required</p>

            <p class="message-error" ng-show="distributionForm.price_discount.$error.pattern">* invalid number</p>

            <p class="message-error" ng-show="distributionForm.order_quantity.$error.pattern">* invalid number</p>

            <div class="form-inline" ng-repeat="item in discounts">
                <span>Offer</span>

                <div class="input-group">
                    <input type="text" class="form-control"
                           ng-model="item.price_discount"
                           style="width: 100px" readonly>
                    <span class="input-group-addon" id="basic-addon1">%</span>

                </div>
                <div class="form-group">
                    <span>off for order quantity of</span>
                    <input type="text" class="form-control"
                           ng-model="item.order_quantity"
                           style="width: 100px" readonly>
                    <span>pieces;</span>
                </div>
                <button class="btn btn-sm btn-danger" type="button" ng-click="removeDiscount($index)"><i
                        class="fa fa-times"></i></button>

            </div>

            <div class="form-group">
                <label>Specify your international transportation mode:</label><br/>
                <label class="radio-inline" ng-repeat="transportationModel in transportationModels">
                    <input type="radio"
                           name="transportation_model"
                           ng-model="distribution.transportation_model"
                           ng-value="transportationModel.id"
                           ng-required="true"
                            /> {{ transportationModel.name }}
                </label>
            </div>

            <div class="form-group">
                <label>Select the business support offered to your distribution partners:</label><br/>
                <label class="checkbox-inline" ng-repeat="supportType in supportTypes">
                    <input type="checkbox"
                           ng-model="supportType.selected"/> {{ supportType.name }}
                </label>
            </div>
            <div class="form-group">
                <label>Describe your distribution partner requirements:</label>
                <textarea rows="5" class="form-control" placeholder="Optional"
                          name="details"
                          ng-model="distribution.details">
                </textarea>
            </div>
            <div class="row">
                <p class='message-error text-center' ng-show="distributionForm.submitted && distributionForm.$invalid">
                    Please check your
                    input. </p>

                <p class="col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-8 col-xs-offset-2">
                    <button type="submit" class="btn btn-lg btn-primary btn-block">Submit</button>
                </p>
            </div>
        </div>
    </div>
</form>

